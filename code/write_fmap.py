YCOL = 'HasDetections'

f = open('cache/tr.csv')
line = f.readline().strip()
xx = line.split(',')
f.close()
print(len(xx))

names = [i for i in xx if i!=YCOL]
print(len(names))
loc = ['CityIdentifier','CountryIdentifier','LocaleEnglishNameIdentifier']
defend = ['ProductName', 'EngineVersion', 'AppVersion', 'AvSigVersion']
good = ['AppVersion', 'EngineVersion', 'SmartScreen', 'IsBeta', 'Census_InternalPrimaryDiagonalDisplaySizeInInches', 'Census_ProcessorModelIdentifier']
fo = open('fmap.txt','w')
for c,i in enumerate(names):
    line = ['%d:'%c]
    count = 0
    for d,j in enumerate(names):
        #if 'InternalPrimary' in i:
        #if i in loc and j in loc: 
        #    line.append('-1')
        #elif i in defend and j in defend:
        #    line.append('-1')
        if i not in good:
            line.append('-1')
        else:
            line.append(str(count))
            count += 1
    line = ' '.join(line)
    fo.write(line+'\n')
fo.close()
