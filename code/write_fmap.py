YCOL = 'HasDetections'

f = open('cache/tr.csv')
line = f.readline().strip()
xx = line.split(',')
f.close()
print(len(xx))

names = [i for i in xx if i!=YCOL]
print(len(names))
fo = open('fmap.txt','w')
for c,i in enumerate(names):
    line = ['%d:'%c]
    count = 0
    for d,j in enumerate(names):
        if i == 'OsBuildLab' and j in 'OsPlatformSubRelease,Census_OSArchitecture,Census_OSBranch,OsBuild'.split(','): 
            line.append('-1')
        else:
            line.append(str(count))
            count += 1
    line = ' '.join(line)
    fo.write(line+'\n')
fo.close()
